<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript" charset="utf-8" src="jquery.js"></script> 
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>bfgPurchase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAAAABMLAAATCwAAAAEAAAAAAAD///4AaK1OAFdqRACgoJIAm8ltAGrRmQAzghYANdetAC3PigCWypcAydLJAEySLgApxWQALqtiAHeEagBUwWcAK72OAOTkxABUsooA0OTNAIo8OwAb+MkA5+3iAMPGpgA6ti4ApNTAAPT29QBo6tMA3t7dACjWmwAj3asAGOmrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgkNEAcHHQgMDBgGAhwAABYNEAcHHQgMDQ0GBgIDGgAKDRAHHQwNCwsGBgYGDgoACRAHCA8BCwsLCwYGBgIDGgkQEgEBAQEBAQELCwsCDhwJEBIPDwQJCQkJBAEYBg4cCRAHBwgHBQUFBQ8PGAsOCgoQBwICHh8dCAgMCwILDhwWEAcUFBIVHR0IDAIUCwMaGhkIAxQSFR4dDA8DDgsKAAAaBQUZGxUHHQwYBA4XAAAAABMFCAcdCAwYGAEKGgAAAAAAEw8NDQ8PCwMcAAAAAAAAABYEBAQEBAMaAAAAAAAAAAAAEQQEBAMcAAAAAAAAAAAAAAARFxccAAAAAAAAAAAAAp4AAAACAAD//wAAAAQAAACgAAADuQAAASwAAAACAAD//wAAAF0AAP8PAAAAAgAA/fAAAHAwAAAAAAAAABQ=" type="image/x-icon" />
<script type="text/javascript" charset="utf-8" src="jquery.js"></script> 
<script type="text/javascript" charset="utf-8">
$(function() {
	var nav1 = $('#navrow1');
	var nav2 = $('#navrow2');
	var header = [
];
	if(!$('[href="pages.html"]').parent().hasClass('current')) {
		return;
	}
	var lis = $.map(header, function(head) {
		return '<li><a href="'+head[0]+'"><span>'+head[0]+'</span></a></li>';
	}).join('');
	var ul = $('<ul style="width:100%;"></ul>').attr({class: 'tablist'}).html(lis);
	var div = $('<div></div>').attr({id: 'navrow2', class: 'tabs2'}).append(ul);
	div.insertAfter(nav1);
});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Icon-72.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Big Fish iOS SDK
   &#160;<span id="projectnumber">4.9</span>
   </div>
   <div id="projectbrief">Enable your iOS games with Big Fish components</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.4 (BFG Build 3) -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Getting&#160;Started</span></a></li>
      <li><a href="_freemium.html"><span>Freemium&#160;Games</span></a></li>
      <li><a href="_f2_p.html"><span>Free-to-Play&#160;Games</span></a></li>
      <li><a href="reference_overview.html"><span>Technical&#160;References</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="_f_a_q.html"><span>FAQ</span></a></li>
      <li><a href="_whatsnew.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="pages.html"><span>Document&#160;Index</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li class="current"><a href="annotated.html"><span>Class&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classbfg_purchase-members.html">List of all members</a> &#124;
<a href="#pub-static-methods">Class Methods</a>  </div>
  <div class="headertitle">
<div class="title">bfgPurchase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages Apple's In-App Purchases.  
 <a href="interfacebfg_purchase.html#details">More...</a></p>

<p><code>#import &lt;bfgPurchase.h&gt;</code></p>

<p>Inherits NSObject.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a3b0d31b468ec51f0a43ed8af9c24d0a7"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a3b0d31b468ec51f0a43ed8af9c24d0a7">acquireProductInformation</a></td></tr>
<tr class="separator:a3b0d31b468ec51f0a43ed8af9c24d0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec599a6d9380e0973776b64385fa647"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#adec599a6d9380e0973776b64385fa647">acquireProductInformation:</a></td></tr>
<tr class="separator:adec599a6d9380e0973776b64385fa647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9501d8d1ac571cc6c8ea4c9af51e5750"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a9501d8d1ac571cc6c8ea4c9af51e5750">acquireProductInformationForProducts:</a></td></tr>
<tr class="separator:a9501d8d1ac571cc6c8ea4c9af51e5750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac689943ed96e0df8964d1d87ec3c8dbf"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#ac689943ed96e0df8964d1d87ec3c8dbf">canStartPurchase</a></td></tr>
<tr class="separator:ac689943ed96e0df8964d1d87ec3c8dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc2f70e8646edd2fbe043388ea10ff6"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#accc2f70e8646edd2fbe043388ea10ff6">canStartPurchase:</a></td></tr>
<tr class="separator:accc2f70e8646edd2fbe043388ea10ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7cbaedc86eedfc982514ce59d77228"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a4d7cbaedc86eedfc982514ce59d77228">startPurchase</a></td></tr>
<tr class="separator:a4d7cbaedc86eedfc982514ce59d77228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8532548c8c1ab9f98a0bb4dadb8f801"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#ae8532548c8c1ab9f98a0bb4dadb8f801">startPurchase:</a></td></tr>
<tr class="separator:ae8532548c8c1ab9f98a0bb4dadb8f801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463f2be6e0f9976db4e1c0e3d2974d72"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a463f2be6e0f9976db4e1c0e3d2974d72">startPurchase:details1:details2:details3:additionalDetails:</a></td></tr>
<tr class="separator:a463f2be6e0f9976db4e1c0e3d2974d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ba4e2f7e1a6c2620b4aadb1c0cce74"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a98ba4e2f7e1a6c2620b4aadb1c0cce74">finishPurchase</a></td></tr>
<tr class="separator:a98ba4e2f7e1a6c2620b4aadb1c0cce74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2e99bf4adedd1bfb58f989198d70f6"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#acc2e99bf4adedd1bfb58f989198d70f6">finishPurchase:</a></td></tr>
<tr class="separator:acc2e99bf4adedd1bfb58f989198d70f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6484b06d6262ad868928c51781a5f4b"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#ac6484b06d6262ad868928c51781a5f4b">isPurchaseActive</a></td></tr>
<tr class="separator:ac6484b06d6262ad868928c51781a5f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af92263aed810c05ef1352217e2dbfa"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a6af92263aed810c05ef1352217e2dbfa">isPurchaseActive:</a></td></tr>
<tr class="separator:a6af92263aed810c05ef1352217e2dbfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecc5a028712fe18e6baece34dc9970c"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#afecc5a028712fe18e6baece34dc9970c">isRestoreActive</a></td></tr>
<tr class="separator:afecc5a028712fe18e6baece34dc9970c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7394d680012aab3454f88c4726796f"><td class="memItemLeft" align="right" valign="top">(NSDictionary *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a5a7394d680012aab3454f88c4726796f">productInformation</a></td></tr>
<tr class="separator:a5a7394d680012aab3454f88c4726796f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437f1c12cfcfc93ad980af7277586155"><td class="memItemLeft" align="right" valign="top">(NSDictionary *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a437f1c12cfcfc93ad980af7277586155">productInformation:</a></td></tr>
<tr class="separator:a437f1c12cfcfc93ad980af7277586155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c14a1e6ebedf6086858bdf302ff0203"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a2c14a1e6ebedf6086858bdf302ff0203">restorePurchases</a></td></tr>
<tr class="separator:a2c14a1e6ebedf6086858bdf302ff0203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e65cc9f7675225f2133d39a56fa1fe1"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a7e65cc9f7675225f2133d39a56fa1fe1">startService</a></td></tr>
<tr class="separator:a7e65cc9f7675225f2133d39a56fa1fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58d0c86d6860b31d8d48fa5734e4e898"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#a58d0c86d6860b31d8d48fa5734e4e898">startService:</a></td></tr>
<tr class="separator:a58d0c86d6860b31d8d48fa5734e4e898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39b455f05d11d2192419842520bdd4f"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfacebfg_purchase.html#ac39b455f05d11d2192419842520bdd4f">purchaseActivityInProgress</a></td></tr>
<tr class="separator:ac39b455f05d11d2192419842520bdd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages Apple's In-App Purchases. </p>
<p>If you are using these APIs, you should become an observer for the following events:</p>
<ul>
<li>NOTIFICATION_PURCHASE_PRODUCTINFORMATION</li>
<li>NOTIFICATION_PURCHASE_SUCCEEDED</li>
<li>NOTIFICATION_PURCHASE_FAILED</li>
<li>NOTIFICATION_RESTORE_SUCCEEDED</li>
<li>NOTIFICATION_RESTORE_FAILED</li>
</ul>
<p>It is important to begin observing these events before starting the <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> service.</p>
<p>Occassionally a game will need to support functionality beyond what is provided by <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a>. For example, <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> does not support downloadable content. In this case you can talk to your producer about setting purchaseExpertMode to "1". With purchaseExpertMode enabled, you will receive SKPaymentTransactions with your <a class="el" href="interfacebfg_purchase_object.html" title="Data for a particular In-App Purchase. ">bfgPurchaseObject</a> when purchasing and restoring. It is your responsibility to call finishPurchase on both new purchases and restores if you enable expert mode. In non-expert mode, restores will close themselves.</p>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a3b0d31b468ec51f0a43ed8af9c24d0a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) acquireProductInformation </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests product information of the default product from the App Store. This method <em>must</em> be called before the default product can be purchased.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#a9501d8d1ac571cc6c8ea4c9af51e5750">+ acquireProductInformationForProducts:</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>The request for product information is sent to the App Store. </td></tr>
    <tr><td class="paramname">NO</td><td>The user is offline or the default productId is already being requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="adec599a6d9380e0973776b64385fa647"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) acquireProductInformation: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests product information from the App Store. This method <em>must</em> be called before the requested product can be purchased.</p>
<p>If multiple products are being requested, it is much more efficient to use acquireProductInformationForProducts: rather than repeated calls to this method.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#a9501d8d1ac571cc6c8ea4c9af51e5750">+ acquireProductInformationForProducts:</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productId</td><td>Identifier of a product that can be purchased in game.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>The request for product information is sent to the App Store. </td></tr>
    <tr><td class="paramname">NO</td><td>The product information is already being requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a9501d8d1ac571cc6c8ea4c9af51e5750"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) acquireProductInformationForProducts: </td>
          <td></td>
          <td class="paramtype">(NSSet *)&#160;</td>
          <td class="paramname"><em>productIds</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests product information from the App Store. This method <em>must</em> be called before the requested products can be purchased.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productIds</td><td>Set of identifiers of products that can be purchased in the game.</td></tr>
  </table>
  </dd>
</dl>
<p>This method will keep trying to acquire product information if connectivity issues prevent the request from succeeding.</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>The request for product information has been sent to the App Store. </td></tr>
    <tr><td class="paramname">NO</td><td>All productIds are already being requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ac689943ed96e0df8964d1d87ec3c8dbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) canStartPurchase </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether it is possible to purchase the default product at this time.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#accc2f70e8646edd2fbe043388ea10ff6">+ canStartPurchase:</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase will succeed if started. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase already in-flight, restore in-flight, or other restriction preventing purchase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="accc2f70e8646edd2fbe043388ea10ff6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) canStartPurchase: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether it is possible to purchase a product at this time.</p>
<p>For most applications, this is the API to call. You should specify a productId that was defined in iTunes Connect by your producer.</p>
<p>Use this method if you wish to present the UI to users as they begin the purchase process. If no logic will occur between canStartPurchase: and startPurchase: then there is no reason to call canStartPurchase: first.</p>
<p>In order to provide a quick result, this method does not try to connect to Big Fish Games' purchase services server. This check will occur in startPurchase before a purchase is sent to Apple.</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase will succeed if started. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase already in-flight, restore in-flight, or other restriction preventing purchase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a98ba4e2f7e1a6c2620b4aadb1c0cce74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) finishPurchase </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience method for calling finishPurchase: with the default productId.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#acc2e99bf4adedd1bfb58f989198d70f6">+ finishPurchase:</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="acc2e99bf4adedd1bfb58f989198d70f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) finishPurchase: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A call to this method is <em>necessary</em> for all successful purchases. Failed purchases and restores do not need to be finished.</p>
<p>After performing the unlock and PERSISTING IT, this method must be called to take the purchase off the queue. If this method is not called, the app will be notified of the purchase every time <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> is restarted. The product cannot be purchased again until the previous purchase has been finished.</p>
<p>Calling this method on a productId that is not currently being purchased does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productId</td><td>The ID of the product to take off the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ac6484b06d6262ad868928c51781a5f4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isPurchaseActive </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>The default product is currently being processed for purchase. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase already in-flight, restore in-flight, or other restriction preventing purchase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a6af92263aed810c05ef1352217e2dbfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isPurchaseActive: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productId</td><td>ID of product to query if purchase is active.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase is being processed. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase already in-flight, restore in-flight, or other restriction preventing purchase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="afecc5a028712fe18e6baece34dc9970c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isRestoreActive </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Restore is being processed or verified. </td></tr>
    <tr><td class="paramname">NO</td><td>Restore in-flight or other restriction preventing restore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a5a7394d680012aab3454f88c4726796f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSDictionary *) productInformation </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Product information related to the default product. </td></tr>
    <tr><td class="paramname">NO</td><td>Product information is unavailable for the default product.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#a437f1c12cfcfc93ad980af7277586155">+ productInformation:</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a437f1c12cfcfc93ad980af7277586155"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSDictionary *) productInformation: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Product information is obtained from Apple during acquireProductInformationForProducts: and held in a transient dictionary.</p>
<p><b>Games should not persist this data but should acquire it on each launch from the iTunes Store.</b></p>
<dl class="section return"><dt>Returns</dt><dd>A dictionary of information regarding the product with the following keys (pre-processor defines): </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PRODUCT_INFO_PRODUCT_ID</td><td>Apple ID of the product. </td></tr>
    <tr><td class="paramname">PRODUCT_INFO_PRICE</td><td>Price as a number. </td></tr>
    <tr><td class="paramname">PRODUCT_INFO_PRICE_STR</td><td>Price as localized string. </td></tr>
    <tr><td class="paramname">PRODUCT_INFO_TITLE</td><td>Title of product. </td></tr>
    <tr><td class="paramname">PRODUCT_INFO_DESCRIPTION</td><td>Description of product. </td></tr>
    <tr><td class="paramname">PRODUCT_INFO_CURRENCY</td><td>Currency price is denoted in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.0.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ac39b455f05d11d2192419842520bdd4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) purchaseActivityInProgress </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a purchase / restore is in progress. Should not be displayed.</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase or restore in progress. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase already in-flight, restore in-flight, or other restriction preventing purchase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a2c14a1e6ebedf6086858bdf302ff0203"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) restorePurchases </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restores previous purchases. Receives the same NOTIFICATION_PURCHASE_SUCCEEDED notification as the original purchase.</p>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4d7cbaedc86eedfc982514ce59d77228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) startPurchase </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience method for calling startPurchase:details1:details2:details3:additionalDetails with nil details and nil additional details.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#ae8532548c8c1ab9f98a0bb4dadb8f801">+ startPurchase:</a> details1:details2:details3:additionalDetails:</dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ae8532548c8c1ab9f98a0bb4dadb8f801"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) startPurchase: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience method for calling startPurchase:details1:details2:details3:additionalDetails with the default productId, nil details, and nil additional details.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase.html#ae8532548c8c1ab9f98a0bb4dadb8f801">+ startPurchase:</a> details1:details2:details3:additionalDetails:</dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a463f2be6e0f9976db4e1c0e3d2974d72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) <a class="el" href="interfacebfg_purchase.html#ae8532548c8c1ab9f98a0bb4dadb8f801">startPurchase:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
        </tr>
        <tr>
          <td class="paramkey">details1:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>details1</em></td>
        </tr>
        <tr>
          <td class="paramkey">details2:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>details2</em></td>
        </tr>
        <tr>
          <td class="paramkey">details3:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>details3</em></td>
        </tr>
        <tr>
          <td class="paramkey">additionalDetails:</td>
          <td></td>
          <td class="paramtype">(NSDictionary *)&#160;</td>
          <td class="paramname"><em>additionalDetails</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt an In-App Purchase with the iTunes store.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productId</td><td>Identifier of product to be purchased. Originates from the iTunes Store. </td></tr>
    <tr><td class="paramname">details1</td><td>An alpha-numeric label to categorize the event. May be <em>nil</em>. </td></tr>
    <tr><td class="paramname">details2</td><td>An alpha-numeric label to categorize the event. May be <em>nil</em>. </td></tr>
    <tr><td class="paramname">details3</td><td>An alpha-numeric label to categorize the event. May be <em>nil</em>. </td></tr>
    <tr><td class="paramname">additionalDetails</td><td>Additional data to be associated with this productId. This value may be <em>nil</em>. If not nil, the value <em>must</em> be a flat dictionary containing only NSString * as keys and values.</td></tr>
  </table>
  </dd>
</dl>
<p>This method posts one of the following notifications on the main thread:</p>
<ul>
<li>NOTIFICATION_PURCHASE_SUCCEEDED &ndash; Perform the unlock, persist the purchase, and call finishPurchase:</li>
<li>NOTIFICATION_PURCHASE_FAILED &ndash; Inform the user the purchase failed</li>
</ul>
<p>These notifications contain userInfo, with BFG_PURCHASE_OBJECT_USER_INFO_KEY as a key to the (<a class="el" href="interfacebfg_purchase_object.html" title="Data for a particular In-App Purchase. ">bfgPurchaseObject</a> *)purchaseObject</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interfacebfg_purchase_object.html" title="Data for a particular In-App Purchase. ">bfgPurchaseObject</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a7e65cc9f7675225f2133d39a56fa1fe1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) startService </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calling startService on bfgPurchases enables its functionality and causes it to resume processing any operations that were already in progress. All notification listeners should be set up prior to calling start.</p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase has started. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase has previously started.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.2.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a58d0c86d6860b31d8d48fa5734e4e898"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) startService: </td>
          <td></td>
          <td class="paramtype">(NSError *__autoreleasing *)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calling startService on bfgPurchases enables its functionality and causes it to resume processing any operations that were already in progress. All notification listeners should be set up prior to calling start.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>If service fails to start, error will contain the reason. Otherwise error is nil.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">YES</td><td>Purchase has started. </td></tr>
    <tr><td class="paramname">NO</td><td>Purchase has previously started.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>4.7.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="bfg_purchase_8h.html">bfgPurchase.h</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
</body>
</html>
