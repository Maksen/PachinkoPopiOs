<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript" charset="utf-8" src="jquery.js"></script> 
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Frequently Asked Questions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAAAABMLAAATCwAAAAEAAAAAAAD///4AaK1OAFdqRACgoJIAm8ltAGrRmQAzghYANdetAC3PigCWypcAydLJAEySLgApxWQALqtiAHeEagBUwWcAK72OAOTkxABUsooA0OTNAIo8OwAb+MkA5+3iAMPGpgA6ti4ApNTAAPT29QBo6tMA3t7dACjWmwAj3asAGOmrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgkNEAcHHQgMDBgGAhwAABYNEAcHHQgMDQ0GBgIDGgAKDRAHHQwNCwsGBgYGDgoACRAHCA8BCwsLCwYGBgIDGgkQEgEBAQEBAQELCwsCDhwJEBIPDwQJCQkJBAEYBg4cCRAHBwgHBQUFBQ8PGAsOCgoQBwICHh8dCAgMCwILDhwWEAcUFBIVHR0IDAIUCwMaGhkIAxQSFR4dDA8DDgsKAAAaBQUZGxUHHQwYBA4XAAAAABMFCAcdCAwYGAEKGgAAAAAAEw8NDQ8PCwMcAAAAAAAAABYEBAQEBAMaAAAAAAAAAAAAEQQEBAMcAAAAAAAAAAAAAAARFxccAAAAAAAAAAAAAp4AAAACAAD//wAAAAQAAACgAAADuQAAASwAAAACAAD//wAAAF0AAP8PAAAAAgAA/fAAAHAwAAAAAAAAABQ=" type="image/x-icon" />
<script type="text/javascript" charset="utf-8" src="jquery.js"></script> 
<script type="text/javascript" charset="utf-8">
$(function() {
	var nav1 = $('#navrow1');
	var nav2 = $('#navrow2');
	var header = [
];
	if(!$('[href="pages.html"]').parent().hasClass('current')) {
		return;
	}
	var lis = $.map(header, function(head) {
		return '<li><a href="'+head[0]+'"><span>'+head[0]+'</span></a></li>';
	}).join('');
	var ul = $('<ul style="width:100%;"></ul>').attr({class: 'tablist'}).html(lis);
	var div = $('<div></div>').attr({id: 'navrow2', class: 'tabs2'}).append(ul);
	div.insertAfter(nav1);
});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Icon-72.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Big Fish iOS SDK
   &#160;<span id="projectnumber">4.9</span>
   </div>
   <div id="projectbrief">Enable your iOS games with Big Fish components</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.4 (BFG Build 3) -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Getting&#160;Started</span></a></li>
      <li><a href="_freemium.html"><span>Freemium&#160;Games</span></a></li>
      <li><a href="_f2_p.html"><span>Free-to-Play&#160;Games</span></a></li>
      <li><a href="reference_overview.html"><span>Technical&#160;References</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li class="current"><a href="_f_a_q.html"><span>FAQ</span></a></li>
      <li><a href="_whatsnew.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="pages.html"><span>Document&#160;Index</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Frequently Asked Questions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#faq_intro">Finding Your Answer</a><ul><li class="level2"><a href="#debug_troubleshooting">BFGUIKitExample and Debugging</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_top4issues">Top Troubleshooting Issues</a><ul><li class="level2"><a href="#faq_sandboxPurchaseFailIAP">Sandbox purchasing failed with "In-App Purchasing is disabled" error</a></li>
<li class="level2"><a href="#faq_productId">Product ID not reported to the Big Fish server with the revenue event for purchase</a></li>
<li class="level2"><a href="#faq_urlNavigation">No custom URL was defined and QA bugged the VGP (virtual goods promotion) is not working correctly</a></li>
<li class="level2"><a href="#faq_jsonSettings">Faulty JSON settings</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_xcode_info_plist">Xcode Projects and info.plist Settings</a><ul><li class="level2"><a href="#faq_xcodeEn">Why is EN the only language reporting in Xcode?</a></li>
<li class="level2"><a href="#faq_randomLanguages">Why are several Apple default UI elements (Email form buttons, etc.) appearing in random languages?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_buildIssues">Build Issues</a><ul><li class="level2"><a href="#arc_errors">Why am I getting Automatic Reference Count (ARC) or [dealloc] errors when I build?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_SDKissues">SDK Upgrades</a><ul><li class="level2"><a href="#faq_broken_feature">After the Big Fish iOS SDK upgrade, feature(s) are no longer working</a></li>
<li class="level2"><a href="#faq_hotFixes">Hotfixes for existing SDK versions</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_purchaseIssues">Purchase Issues</a><ul><li class="level2"><a href="#faq_IAPtest">How do I test In-App Purchase functionality?</a></li>
<li class="level2"><a href="#faq_customPurchaseCode">Custom purchase code for In-App Purchase for Full Game Unlock is no longer permissible</a></li>
<li class="level2"><a href="#faq_invalidHBI">Why is [bfgPurchase startService] always returning NO?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_gameResourcesIssues">Game Resources and Assets</a><ul><li class="level2"><a href="#faq_MATsettings">Why are the settings on the Mobile Admin Tool server not reflected by the client?</a></li>
<li class="level2"><a href="#faq_externallyLinkedGamespecific">Including game-specific data and resources for an externally linked Big Fish iOS SDK</a></li>
<li class="level2"><a href="#faq_brandingDefaultscreens">Why are there splash screens for several other developers in bfgbranding_resources.zip?</a></li>
<li class="level2"><a href="#faq_correctBFbranding">Correct Big Fish branding/splash screen</a></li>
<li class="level2"><a href="#faq_iphone5assets">Why are no iPhone 5 assets included with the bfg_gamespecific_resources?</a></li>
<li class="level2"><a href="#faq_adSpace">How much space should be left on the Main Menu to accommodate the Big Fish ads?</a></li>
<li class="level2"><a href="#faq_tellafriend_help">How do I create a Tell A Friend button asset?</a></li>
<li class="level2"><a href="#faq_noLogin">If login is not required for my game, how do I can I identify a user?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_GDNissues">Game Developer Network (GDN) Issues</a><ul><li class="level2"><a href="#faq_customGDN">Customizing the GDN title, icon, and background</a></li>
<li class="level2"><a href="#faq_pauseResume">When should Pause/Resume be shown and how is this initialized?</a></li>
<li class="level2"><a href="#faq_GDNrotate">Why is the GDN not rotating correctly with the application?</a></li>
<li class="level2"><a href="#faq_ifBlocks">Why is the GDN ignoring "if blocks" in bfg_default_settings.json?</a></li>
<li class="level2"><a href="#faq_stringNotFoundError">Changes to bfgpromodashboard_gamespecifc.zip are not reflected by the GDN and a "strings not found" error appears in place of the game title</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_ratings">Ratings Issues</a><ul><li class="level2"><a href="#faq_bfgRatingConfig">Configuring the bfgRating class</a></li>
<li class="level2"><a href="#faq_rateURL">Linking to the App Store for rating when there is no Internet connection</a></li>
<li class="level2"><a href="#faq_firstIngameRating">Where should I place the first in-game rating prompt?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_reportingIssues">Reporting Issues</a><ul><li class="level2"><a href="#faq_KontagentSupport">How is Kontagent supported in the SDK?</a></li>
<li class="level2"><a href="#faq_HasoffersSupport">How is HasOffers supported in the SDK?</a></li>
<li class="level2"><a href="#faq_PlayhavenSupport">How is PlayHaven supported in the SDK?</a></li>
<li class="level2"><a href="#faq_flurryReporting">Flurry is not reporting. Where is the SDK and what should be tracked?</a></li>
<li class="level2"><a href="#faq_productID_tracking">Where can I find help with Product ID tracking and other revenue events?</a></li>
<li class="level2"><a href="#faq_paywallShownCount">The "paywallsShownCount" log event is not tracking</a></li>
<li class="level2"><a href="#faq_lastPaywallShownID_bug">The "lastPaywallShownID" log event is not tracking</a></li>
<li class="level2"><a href="#faq_purchasedMainShownCount">The "purchasedMainShownCount" log event is not tracking</a></li>
<li class="level2"><a href="#faq_purchasedType">The "purchasedType" log event is not tracking</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_submissionsReview">Submission and Apple Review</a><ul><li class="level2"><a href="#app_rejection">Why was my app rejected by Apple?</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_unityIssues">Using the iOS SDK with Unity</a><ul><li class="level2"><a href="#faq_unitySettings">Unity settings</a></li>
<li class="level2"><a href="#faq_unityIntegration">SDK integration with Unity</a><ul><li class="level3"><a href="#faq_unityIntialSteps">Initial Xcode integration steps</a></li>
<li class="level3"><a href="#faq_modificationsUnity">Code modifications for SDK initialization with Unity</a></li>
<li class="level3"><a href="#faq_callAddBfgFunctions">Calling additional BFG functions</a></li>
</ul>
</li>
<li class="level2"><a href="#faq_languagesUnreported">Languages are not reported through Xcode</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_playhaven">PlayHaven Issues</a><ul><li class="level2"><a href="#faq_placementsDontAppear">One or more of the default placements failed to appear</a></li>
<li class="level2"><a href="#faq_placementEndPaywallOpenedNotAppear">The "end_paywall_opened" placement failed to appear or appeared at the wrong time</a></li>
<li class="level2"><a href="#faq_placementPromoVGtestFail">The virtual goods promotion test failed during Mobile QA</a></li>
<li class="level2"><a href="#faq_placementFailsGoogle">Mobile QA bugged that tapping on the "mainmenu_paywall_opened" placement fails to direct the player to google.com</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_ANEissues">Adobe Air/Adobe Native Extension Issues</a><ul><li class="level2"><a href="#faq_ANEbuildingAirApp">Building an Adobe Air Application with the Big Fish Adobe Native Exentsion</a></li>
<li class="level2"><a href="#faq_ANEbundleIDs">Bundle IDs</a></li>
<li class="level2"><a href="#faq_ANEcustomURL">Custom URL Scheme Support</a></li>
</ul>
</li>
<li class="level1"><a href="#faq_misc">Miscellaneous Issues</a><ul><li class="level2"><a href="#faq_wifiError">How do I troubleshoot a Wifi error?</a></li>
<li class="level2"><a href="#faq_mobileAppTrackerHasOffersIntegration">Mobile App Tracker/HasOffers wrapped in SDK</a></li>
<li class="level2"><a href="#faq_miscMemoryIssues">How do I manage memory and prevent memory leaks</a></li>
<li class="level2"><a href="#faq_wallpapers">Wallpapers need to be saved to Photos</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Troubleshooting tips and answers to development questions.</p>
<h1><a class="anchor" id="faq_intro"></a>
Finding Your Answer</h1>
<p>Check these solutions first for a quick solution to your problem. If you have any questions that the SDK documentation, debugging tools, or the frequently asked questions cannot answer, then contact your Big Fish Producer.</p>
<h2><a class="anchor" id="debug_troubleshooting"></a>
BFGUIKitExample and Debugging</h2>
<p>It is recommended that you refer to the BFGUIKitExample project and turn on debugging to check your work.</p>
<ul>
<li>The BFGUIKitExample project is included with the SDK source externally linked to your game's SVN repository.</li>
<li>For step-by-step instructions on turning on debugging logs, see <a class="el" href="_d_e_b_u_g.html">Debugging with the SDK</a>. <br/>
 <br/>
</li>
</ul>
<h1><a class="anchor" id="faq_top4issues"></a>
Top Troubleshooting Issues</h1>
<p>The following are the most common issues that may cause problems with your game.</p>
<h2><a class="anchor" id="faq_sandboxPurchaseFailIAP"></a>
Sandbox purchasing failed with "In-App Purchasing is disabled" error</h2>
<p>If you do not add an hbi value in the bfg_default_settings.json file under the bfg_gamespecific_resources then purchasing will not work with Big Fish iOS SDK versions 4.7 and later.</p>
<p>For more information, see <a class="el" href="freemium_purchase.html">Making Freemium In-App Purchases</a> and <a class="el" href="f2p_purchase.html">Making Free-to-Play In-App Purchases</a>.</p>
<h2><a class="anchor" id="faq_productId"></a>
Product ID not reported to the Big Fish server with the revenue event for purchase</h2>
<p>Product ID is tracked when the [<a href="interfacebfg_purchase.html#adec599a6d9380e0973776b64385fa647" class="el">bfgPurchase acquireProductInformation: (NSString*) productID</a>] method is called. An <b>iap_default_product_id</b> should be defined in bfg_default_settings.json. The <b>productID</b> is your game's In-App Purchase ID for Full Game Unlock (e.g., com.bigfishgames.gamename).</p>
<p>For complete instructions, see <a class="el" href="freemium_purchase.html">Making Freemium In-App Purchases</a> or <a class="el" href="f2p_purchase.html">Making Free-to-Play In-App Purchases</a>, depending on your type of game.</p>
<p>It is recommended that you acquire product information as early as possible. This can even be done on startup at the same time as bfgBranding.</p>
<p>All revenue events are included in the <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> class. Using <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> requires no additional <a class="el" href="interfacebfg_game_reporting.html" title="Required game logging APIs. ">bfgGameReporting</a> reporting calls.</p>
 
   <div style=color:red><blockquote><b>Important:</b> Third-party developers are now required to use bfgPurchase for all In-App Purchases.</blockquote></div>
<h2><a class="anchor" id="faq_urlNavigation"></a>
No custom URL was defined and QA bugged the VGP (virtual goods promotion) is not working correctly</h2>
<ol type="1">
<li>You <em>must</em> configure a custom URL scheme for your application. For instructions, see <a href="production.html#Xcode_requirements" class="el" target="_self">Xcode requirements</a>.</li>
<li>Forward the URL scheme to the Big Fish application. For more information, see <a class="el" href="reference_gamespecific.html#playhaven_secret_token">Supporting placements</a>.</li>
<li>Call [<a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> <b>acquireProductInformation</b>] on startup.</li>
<li>Listen for the <b>BFG_NOTIFICATION_PLACEMENT_CONTENT_START_PURCHASE</b> notification. If this is called, then additional steps are required to initiate <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a>, as described in <a class="el" href="f2p_purchase.html#f2p_IAPviaPlacements">In-App Purchasing via placements</a>.</li>
</ol>
<p><b>To test virtual goods promotion:</b></p>
<p>1) Open Safari on your iPad and type the following (replace <b>com.bigfishgames.gamename</b> with the bundle ID provided for your game):</p>
<div class="fragment"><div class="line">com.bigfishgames.gamename:<span class="comment">//</span></div>
</div><!-- fragment --><p>2) Tap the <b>Go</b> button. This should open the game application on your iPad.</p>
<p>If after step 2 your app crashes, then the app is not handling the URI correctly.</p>
<h2><a class="anchor" id="faq_jsonSettings"></a>
Faulty JSON settings</h2>
<p>The default JSON settings that ship with the iOS SDK are applicable for most games. You should only need to customize the following item in the bfg_default_settings.json file under the bfg_gamespecific_resources:</p>
<ul>
<li><b>flurryapikey:</b> This value (e.g., XXLHVS3BWUU2VVTILTZD) will be provided by your Big Fish Producer.</li>
<li><b>hbi:</b> This value (e.g., 2be9fe3c0ca1b1ef69c47d0b537c6a1c07ac1c90) will be provided by your Big Fish Producer.</li>
<li><b>iap_default_product_id:</b> This is your games product ID (e.g., com.bigfishgames.gamename.ceunlock) for In-App-Purchase of full game unlock provided by your Big Fish Producer.</li>
</ul>
<p>For more information, see <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a>. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_xcode_info_plist"></a>
Xcode Projects and info.plist Settings</h1>
<h2><a class="anchor" id="faq_xcodeEn"></a>
Why is EN the only language reporting in Xcode?</h2>
<p>You have not configured the supported languages for your game.</p>
<ol type="1">
<li>Highlight the project in Xcode (not individual targets) and select the <b>Info</b> tab.</li>
<li>Under <b>Localizations</b>, you will see a list of languages. Any languages not listed here are not reporting. This list should include all supported languages for your game.</li>
<li>Select <b>+</b> to add a new language. Several languages have multiple options, so be sure the language selected matches the appropriate language code (in capital letters to the far right). For example, to add Spanish, the proper selection would be "Spanish - Spain" since ES is the language code supported.</li>
</ol>
<h2><a class="anchor" id="faq_randomLanguages"></a>
Why are several Apple default UI elements (Email form buttons, etc.) appearing in random languages?</h2>
<p>Make sure that the Localizations key in your .plist includes English as the primary language, as in the string for "ES" in this example.</p>
<div class="fragment"><div class="line">&lt;array&gt;</div>
<div class="line">&lt;<span class="keywordtype">string</span>&gt;es&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">string</span>&gt;it&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">string</span>&gt;nl&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">&lt;/array&gt;</div>
</div><!-- fragment --><p>The following explanation is from Apple documentation: <br/>
 <br/>
</p>
<p>"The list of languages supported by the app, as shown in the iTunes store screenshot you sent, is automatically determined by inspecting the submitted application bundle. Typically, this comes from the .lproj folders in a bundle, as the process (and iOS) use this to determine what languages the application can support."</p>
<p>"However, it is also possible to provide your own localization support system in the application without using .lproj folders (although this is typically much more work) – in this scenario, the list of supported languages is specified in the application's plist file, via the CFBundleLocalizations key."</p>
<p>For more information, see the Apple documentation, <a href="http://developer.apple.com/library/ios/#documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html" class="el" target="_blank">Core Foundation Keys</a>. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_buildIssues"></a>
Build Issues</h1>
<h2><a class="anchor" id="arc_errors"></a>
Why am I getting Automatic Reference Count (ARC) or [dealloc] errors when I build?</h2>
<p>Big Fish upgraded to use ARC with the 4.1 release. See the discussion at <a class="el" href="_whatsnew.html#New_Features_4_1">New features of Big Fish iOS SDK 4.1</a> for details about how to configure your project if you do not support ARC. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_SDKissues"></a>
SDK Upgrades</h1>
<h2><a class="anchor" id="faq_broken_feature"></a>
After the Big Fish iOS SDK upgrade, feature(s) are no longer working</h2>
<p>If you are updating a project for an existing game, you must remove earlier versions of the Big Fish iOS SDK from your project.</p>
<ul>
<li>For instructions, see <a class="el" href="index.html#_Xcode_environment">Step 1: The Xcode project</a> in <a href="index.html"><b>Getting Started</b></a>.</li>
<li>For details about what has changed with this release, see <a class="el" href="_whatsnew.html">What's new in this release</a>.</li>
</ul>
<h2><a class="anchor" id="faq_hotFixes"></a>
Hotfixes for existing SDK versions</h2>
<p>Sometimes there will be important fixes that are needed across all in-development games, regardless of the version of the SDK being used. In these cases, Big Fish will release a hotfix for all currently accepted versions of the SDK. Check with your Big Fish Producer, and if a hotfix has been released for your SDK version, you will need to perform an SVN update to implement the changes.</p>
<p>How you update will vary depending on the client used. This is a basic SVN function that should always be available.</p>
<ol type="1">
<li>Check out the latest revision of your project's trunk.</li>
<li>The externally linked SDK folder will now appear in your working copy.</li>
<li>Perform the SVN update function on this external folder to sync with the latest revision available for the SDK. <br/>
 <br/>
</li>
</ol>
<h1><a class="anchor" id="faq_purchaseIssues"></a>
Purchase Issues</h1>
<p>Refer to the Top Troubleshooting Issues for help with:</p>
<ul>
<li><a class="el" href="_f_a_q.html#faq_productId">Product ID not reported to the Big Fish server with the revenue event for purchase</a></li>
<li><a class="el" href="_f_a_q.html#faq_sandboxPurchaseFailIAP">Sandbox purchasing failed with "In-App Purchasing is disabled" error</a></li>
<li><a class="el" href="_f_a_q.html#faq_urlNavigation">No custom URL was defined and QA bugged the VGP (virtual goods promotion) is not working correctly</a></li>
</ul>
<h2><a class="anchor" id="faq_IAPtest"></a>
How do I test In-App Purchase functionality?</h2>
<p>To test your In-App Purchase, you will need to create a dummy app (make sure you are using your primary company/developer account). For instructions on how to create a dummy app to test your In-App Purchases, see <a class="el" href="iap_dummy_app_test.html">Testing In-App Purchases</a>.</p>
<p>You will also need to set up your own iTunes test account(s) yourself, under your company/developer account. Big Fish is unable to provide developers with test accounts.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Your dummy apps must have a different title than the real game entry. Big Fish recommends adding "test".</li>
<li><em>NEVER</em> set up the production title or Big Fish will not be able to use this for the final shipped game title.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="faq_customPurchaseCode"></a>
Custom purchase code for In-App Purchase for Full Game Unlock is no longer permissible</h2>
<p>All Freemium games require an In-App Purchase for Full Game Unlock, which should be configured using the Big Fish iOS SDK <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> class. The <a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> class handles all of the reporting of revenue events. The UIKit example implements In-App Purchases using this class.</p>
<dl class="section note"><dt>Note</dt><dd>Do <em>NOT</em> use the deprecated [<a class="el" href="interfacebfg_game_reporting.html" title="Required game logging APIs. ">bfgGameReporting</a> <b>logPurchaseSuccessful</b>] method as this will result in multiple purchase event reports.</dd></dl>
<h2><a class="anchor" id="faq_invalidHBI"></a>
Why is [bfgPurchase startService] always returning NO?</h2>
<p>The app may not have a valid "hbi" key in its bfg_default_settings.json. Ensure that you have the appropriate key for "hbi". If you change the value of the key in bfg_default_settings.json, you will need to delete the app from your device and reinstall it for the change to be registered. You may also wish to call [<a class="el" href="interfacebfg_purchase.html" title="Manages Apple&#39;s In-App Purchases. ">bfgPurchase</a> <b>startService:**error</b>] if you would like additional information regarding the failure of purchase to start.</p>
 
   <div style=color:red><blockquote><b>Important:</b> The hbi value was not introduced until Big Fish iOS SDK version 4.7 and is not needed with older SDK versions.</blockquote></div>
 <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_gameResourcesIssues"></a>
Game Resources and Assets</h1>
<h2><a class="anchor" id="faq_MATsettings"></a>
Why are the settings on the Mobile Admin Tool server not reflected by the client?</h2>
<p>QA will bug the following <b>incorrect</b> GDN and ad behaviors relating to the Mobile Admin Tool server settings:</p>
<ol type="1">
<li>With Wifi disabled, the GDN appears.</li>
<li>With Wifi enabled, the GDN does not appear (on second launch and after).</li>
<li>With Wifi enabled, the Pause/Resume menu does not appear after 1 hour when the device sleeps or after a Fast App Switch (FAS).</li>
<li>The dashboard has been turned on/off by Big Fish in the Mobile Admin Tool, but this change is not reflected by the client.</li>
<li>Ads have been turned on/off by Big Fish in the Mobile Admin Tool, but the client is not reflecting this change.</li>
</ol>
<p><b>Possible causes:</b></p>
<ol type="1">
<li><p class="startli">Most of these issues are the result of incorrect settings in your Big Fish iOS SDK game-specific resources.</p>
<p class="startli">It is recommended that you leave the <b>bfg_default_settings.json</b> file defaults and just fill in the fields specific to your game (<b>iap_default_product_id</b> and <b>flurryapikey</b>).</p>
</li>
<li><p class="startli">The Bundle ID or Apple ID for your application is not correctly defined in the Mobile Admin Tool.</p>
<p class="startli">This tool is internal facing only. Your Big Fish Producer will check this during the troubleshooting phase and correct any discrepancies.</p>
</li>
<li>You do not have an ad bundle defined for your application. To test if an ad bundle is defined, paste your Bundle ID into the following URL request and see if the results are what you were expecting:<ul>
<li>iPad: <a href="http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&gameid=">http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&amp;gameid=</a><em style="color:red">your_bundle_id_goes_here</em>&amp;resolution=768x1024&amp;bfglib=02000106</li>
<li>iPhone: <a href="http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&gameid=">http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&amp;gameid=</a><em style="color:red">your_bundle_id_goes_here</em>&amp;resolution=320x480&amp;bfglib=02000106 <br/>
 <br/>
 For example: <a href="http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&gameid=com.bigfishgames.mahjongtowerstouchpaidipad&resolution=768x1024&bfglib=02000106">http://mobileservices.bigfishgames.com/ad_link.php?udid=fbfa6fd187374e932c26cfbac59b7030f74bf1bb&amp;gameid=com.bigfishgames.mahjongtowerstouchpaidipad&amp;resolution=768x1024&amp;bfglib=02000106</a></li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="faq_externallyLinkedGamespecific"></a>
Including game-specific data and resources for an externally linked Big Fish iOS SDK</h2>
<ol type="1">
<li>Export the <b>bfg_gamespecific_resources</b> directory to your project’s resources.<ul>
<li>You will need a separate <b>bfg_gamespecific_resources</b> for each target of your game.</li>
</ul>
</li>
<li>Customize these assets as detailed in <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a>.</li>
<li>Reference the externally linked copy of the SDK for everything else.</li>
</ol>
 
    <div style=color:red><blockquote><b>Important:</b> If a locally sourced copy is included with your game, it will be removed by Big Fish Mobile Game Operations.</blockquote></div>
<h2><a class="anchor" id="faq_brandingDefaultscreens"></a>
Why are there splash screens for several other developers in bfgbranding_resources.zip?</h2>
<p>These are examples and should be removed. Add your own branding screen and then zip this file again.</p>
<dl class="section note"><dt>Note</dt><dd>If file size is an issue, it is recommended that all branding use .webp compression, a graphic compression format developed by Google.</dd></dl>
 
    <div style=color:red><blockquote><b>Important:</b> All files in the bfg_gamespecific_resources need to be re-zipped with <i>ZERO COMPRESSION</i>, otherwise the SDK will not be able to use them.</blockquote></div>
<h2><a class="anchor" id="faq_correctBFbranding"></a>
Correct Big Fish branding/splash screen</h2>
<p>To allow for further file size reduction, versions 3.1 and later of the SDK include a new Big Fish branding screen in <b>bfg_gamespecific_resources</b> under <b>bfgbranding_resources.zip</b>. This uses the new Big Fish logo (“Games” has been removed) and no additional text.</p>
<div class="image">
<img src="en-BFG_Splashscreen-iphone.png" alt="en-BFG_Splashscreen-iphone.png"/>
</div>
<p>The one brand can be used across all languages and there is no need for localization.</p>
<p>For more information, see <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a>.</p>
 
    <div style=color:red><blockquote><b>Important:</b> All files in the <b>bfg_gamespecific_resources</b> need to be re-zipped with <i>ZERO COMPRESSION</i>, otherwise the SDK will not be able to use them.</blockquote></div>
<h2><a class="anchor" id="faq_iphone5assets"></a>
Why are no iPhone 5 assets included with the bfg_gamespecific_resources?</h2>
<p>The Big Fish iOS SDK supports iPhone 5 widescreen resolution. The Big Fish branding used for iPhone 4 devices (splash_iPhone@2x.png) is 1136 X 1136 resolution, and will work for iPhone 4, 4s, and 5 devices.</p>
<h2><a class="anchor" id="faq_adSpace"></a>
How much space should be left on the Main Menu to accommodate the Big Fish ads?</h2>
<p>There are two Big Fish ads sizes:</p>
<ul>
<li>iPad - 768x75 pixels</li>
<li>iPhone 4 and up - 640x100 pixels</li>
</ul>
<p>The device type will be detected so that the correct ad size is shown, including for Universal SKUs.</p>
<h2><a class="anchor" id="faq_tellafriend_help"></a>
How do I create a Tell A Friend button asset?</h2>
<p>Big Fish does not have a standard <b>Tell A Friend</b> button yet. This button should match the style of your game and look like the other Options menu buttons. Use the [<a href="interfacebfg_manager.html#a3fd48676ed5f795ed26a0ff856e4ec79" class="el">bfgManager canShowTellAFriendButton</a>] API to determine if this button should be displayed.</p>
<p>When tapped, the <b>Tell A Friend</b> button should bring up a pre-filled mailto form.</p>
<ul>
<li>For help creating the URLs for the Tell A Friend email, see the discussion of required elements at <a class="el" href="main_menu.html#mm_tell_a_friend">Tell A Friend button</a>.</li>
<li>For the correct localized text, contact your Big Fish Producer.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Make sure that HTML email formatting is enabled and include the link provided as an html &lt; a href &gt; tag.</dd></dl>
<h2><a class="anchor" id="faq_noLogin"></a>
If login is not required for my game, how do I can I identify a user?</h2>
<p>If login is not a requirement for your game, you may still check for the last known HMID of a user. Because login is shared across Big Fish apps, if a user logs in to an app that does implement login, your app will be able to read this value. Importantly, if you do not provide sign-in and sign-out capabilities for the user, do NOT call [<a href="interfacebfg_login_controller.html#aaae4502e24a68c83911063bfca11cc2f" class="el">bfgLoginController startService</a>]. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_GDNissues"></a>
Game Developer Network (GDN) Issues</h1>
<h2><a class="anchor" id="faq_customGDN"></a>
Customizing the GDN title, icon, and background</h2>
<p>Your Big Fish Producer provides a full set of game-specific icons in (<a href="qa_testing.html" class="el" target="_blank">Phase 2 of QA</a>). Replace the default icons in <b>bfgpromodashboard_gamespecifc.zip</b> with game-specific icons.</p>
<ul>
<li>iPad: "maintitle-ipad.png" - 132x132 pixels</li>
<li>iPhone: "maintitle-iphone4.png" - 114x114 pixels</li>
</ul>
 
    <div style=color:red><blockquote><b>Important:</b> All files in the <b>bfg_gamespecific_resources</b> need to be rezipped with <i>ZERO COMPRESSION</i>, otherwise the SDK will not be able to use them.</blockquote></div>
<p>The GDN background is pulled from “Launch Images” under the Summary section in your Xcode project.</p>
<p>A background watermark is needed for iPad only. The iPhone background will default to plain blue. You can create these assets yourself, specifically, a tinted blue watermark that matches the game. Otherwise, your Big Fish Producer will provide this asset, along with the icon in <a href="qa_testing.html" class="el" target="_blank">Phase 2 of QA</a>.</p>
<h2><a class="anchor" id="faq_pauseResume"></a>
When should Pause/Resume be shown and how is this initialized?</h2>
<p>Pause/Resume is a function of the <a class="el" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a> class. Once the <a class="el" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a> is initialized, become an observer for the following events:</p>
<ol type="1">
<li><b>BFGPROMODASHBOARD_NOTIFICATION_COLDSTART</b> - Sent after the GDN Play button is selected.</li>
<li><b>BFGPROMODASHBOARD_NOTIFICATION_WARMSTART</b> - Sent after the GDN Resume button is selected.</li>
<li><b>BFGPROMODASHBOARD_NOTIFICATION_MAINMENU</b> - Sent after the GDN Main Menu button is selected.</li>
<li><b>BFGPROMODASHBOARD_NOTIFICATION_MOREGAMES_CLOSED</b> - Sent when the More Games UI closes (iPad only).</li>
</ol>
<p>On cold starts, the GDN should appear (if WiFi is on, the GDN will appear at second launch and beyond). On warm starts (e.g., returning to the app via Fast App Switching, or waking the device after it goes to sleep,) the Pause/Resume screen should be shown instead.</p>
<h2><a class="anchor" id="faq_GDNrotate"></a>
Why is the GDN not rotating correctly with the application?</h2>
<p>If you can, always initialize the GDN with your root view controller. If that changes, you can update with the [<a href="interfacebfg_manager.html#a40241b1dab15f94506f4212ffac6f223" class="el">bfgManager setParentViewController</a>] API.</p>
<h2><a class="anchor" id="faq_ifBlocks"></a>
Why is the GDN ignoring "if blocks" in bfg_default_settings.json?</h2>
<p>The Big Fish iOS SDK gets most of the game-specific information it needs from the Big Fish Mobile Admin tool. Developers do not have access to this tool, but your Big Fish Producer will provide the appropriate game-specific information.</p>
<p>Including an “if block” to set behavior for these elements can conflict with the Mobile Admin tool control settings and cause bugs with the GDN and ads. Remove any “if” blocks from your source.</p>
<h2><a class="anchor" id="faq_stringNotFoundError"></a>
Changes to bfgpromodashboard_gamespecifc.zip are not reflected by the GDN and a "strings not found" error appears in place of the game title</h2>
<p>Ensure that a UTF-8 compatible editor has been used and that <b>bfgpromodashboard_gamespecifc.zip</b> was saved with zero compression. Otherwise, the contents may be corrupted and will not be usable by the SDK.</p>
<p>For more information see <a class="el" href="reference_gamespecific.html#gdn_resources">Game Discovery Network resources</a>. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_ratings"></a>
Ratings Issues</h1>
<h2><a class="anchor" id="faq_bfgRatingConfig"></a>
Configuring the bfgRating class</h2>
<p>The <a class="el" href="interfacebfg_rating.html" title="Enables users to rate games. ">bfgRating</a> settings were moved to the bfg_default_settings.json file, and a bfgRating.bfgstrings file is no longer included with the bfg_gamespecific_resources directory.</p>
<p>The Big Fish iOS SDK pulls most game-specific information from the Big Fish Mobile Admin Tool. Developers do not have access to this tool, but your Big Fish Producer will ensure it is up to date and reflects the correct app details.</p>
<p>To prevent a "(null)" error from appearing, the Bundle Display Name value should be set in the info.plist for the targets. Make sure this value has a default initialized value for all languages.</p>
<p>For more information, see <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a> and <a class="el" href="interfacebfg_rating.html">bfgRating</a>.</p>
<h2><a class="anchor" id="faq_rateURL"></a>
Linking to the App Store for rating when there is no Internet connection</h2>
<p>The <a class="el" href="interfacebfg_rating.html" title="Enables users to rate games. ">bfgRating</a> classes enable users to rate games. For set up instructions, see <a class="el" href="interfacebfg_rating.html">bfgRating</a>.</p>
<p>To prevent errors when trying to access the App Store without Wifi enabled or an Internet connection, an additional fail-safe is required. In the call to see if the rate button should be displayed, the yes condition requires an Internet connection before the <b>Like Game?/Sneak Peek</b> button is displayed on the Main Menu:</p>
 <code>
/// <br>
/// \details Displays a "Rate Me!" button on the main menu. <br>
/// <br>
/// \return <br>
/// \retval YES if the user has not already rated the app, and if the URL <br>
/// to rate the app has been downloaded from the servers. <br>
/// \retval NO if the user has rated the app. <br>
/// <br>
+ (BOOL)[bfgRating canShowMainMenuRateButton]; <br> </code>
<h2><a class="anchor" id="faq_firstIngameRating"></a>
Where should I place the first in-game rating prompt?</h2>
<p>For requirements, see <a class="el" href="usability.html#fr_use_rateReview">Ratings and Reviews</a>.</p>
<p>The bfg_default_settings.json values:</p>
<ol type="1">
<li>Set <b>rating_uses_until_prompt</b> and <b>rating_days_until_prompt</b> to zero (0).</li>
<li>Set <b>rating_userDidSignificantEvent</b> to the designated points in the game matching the requirements.</li>
<li>Set <b>rating_significant_events_until_prompt</b> to <b>1</b>. <br/>
 <br/>
</li>
</ol>
<h1><a class="anchor" id="faq_reportingIssues"></a>
Reporting Issues</h1>
<h2><a class="anchor" id="faq_KontagentSupport"></a>
How is Kontagent supported in the SDK?</h2>
<p>The Kontagent SDK is completely wrapped in the Big Fish iOS SDK. If you games supports Kontagent, your Big Fish Producer will provide you with your Kontagent keys along with all other IDs at the beginning of production. There is a place to include this key in the bfg_default_settings.json file included with the bfg_gamespecific_resources. For more information, see <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a>.</p>
<p>All standard Kontagent reporting is done for you by the the SDK. If you are asked to support custom events, use the [<a href="interfacebfg_game_reporting.html#aaaee174e6995f28f400854e854c17273" class="el">bfgGameReporting logCustomEvent</a>] API.</p>
<h2><a class="anchor" id="faq_HasoffersSupport"></a>
How is HasOffers supported in the SDK?</h2>
<p>The HasOffers SDK is completely wrapped in the Big Fish iOS SDK. Your Big Fish Producer will set up your game for HasOffers via the Mobile Admin Server at the beginning of production. All HasOffers reporting is handle by the SDK.</p>
<h2><a class="anchor" id="faq_PlayhavenSupport"></a>
How is PlayHaven supported in the SDK?</h2>
<p>The PlayHaven SDK is completely wrapped in the Big Fish iOS SDK. Your Big Fish Producer will set up your game for PlayHaven via the Mobile Admin Server at the beginning of production. As a result of placements, modal web views may be overlaid on top of your game at certain points in your game.</p>
<p>All of the standard PlayHaven placement are handle by the SDK. If you are asked to support custom placements, use the [<a href="interfacebfg_game_reporting.html#a9460bd17a6dab4b440623ed3f3133610" class="el">bfgGameReporting logCustomPlacement</a>] API. More information can be found in the technical reference <a class="el" href="reference_class.html#placementContent">Supporting Placements</a>.</p>
<p>For more information, see <a class="el" href="_f_a_q.html#faq_playhaven">PlayHaven Issues</a>.</p>
<h2><a class="anchor" id="faq_flurryReporting"></a>
Flurry is not reporting. Where is the SDK and what should be tracked?</h2>
<p>The Flurry SDK is completely wrapped in the Big Fish iOS SDK. Your Big Fish Producer will provide a Flurry key along with all other IDs at the beginning of production. There is a place to include this key in the bfg_default_settings.json file included with the bfg_gamespecific_resources. For more information, see <a class="el" href="reference_gamespecific.html">Customizing Game-Specific Resources</a>.</p>
<h2><a class="anchor" id="faq_productID_tracking"></a>
Where can I find help with Product ID tracking and other revenue events?</h2>
<p>For more information on Product ID tracking and other revenue events, see the <a class="el" href="_f_a_q.html#faq_purchaseIssues">Purchase Issues</a> section of the FAQs.</p>
<h2><a class="anchor" id="faq_paywallShownCount"></a>
The "paywallsShownCount" log event is not tracking</h2>
<p>If this event is not reporting, then there is a problem with the [<a href="interfacebfg_game_reporting.html#a230c774ad064f88ab211039759a27159" class="el">bfgGameReporting logPurchasePayWallShown:(NSString *) paywallID</a>]; event. The game should count every time a paywall is shown (EXCLUDING when the "Unlock Now!" button is tapped from the Main Menu as this has its own unique event).</p>
<p>The "paywallID" signifies which paywall was shown.</p>
<ul>
<li>When the player reaches the paywall point in-game at the end of the free game content, call [<a class="el" href="interfacebfg_game_reporting.html" title="Required game logging APIs. ">bfgGameReporting</a> <b>logPurchasePayWallShown:@paywall];</b> <br/>
</li>
<li>When the player attempts to access the Collector's Edition content before the Full Game Unlock has been purchased call <b>[<a class="el" href="interfacebfg_game_reporting.html" title="Required game logging APIs. ">bfgGameReporting</a> logPurchasePayWallShown:@extras];</b> <br/>
</li>
</ul>
<p>For instructions on when to use the paywallID "guide," see <a class="el" href="reference_class.html#bfgAppStraGuidesReporting">Strategy Guide Reporting</a>.</p>
<h2><a class="anchor" id="faq_lastPaywallShownID_bug"></a>
The "lastPaywallShownID" log event is not tracking</h2>
<p>If this event is not reporting, then there is a problem with the [<a href="interfacebfg_game_reporting.html#a230c774ad064f88ab211039759a27159" class="el">bfgGameReporting logPurchasePayWallShown:(NSString *) paywallID];</a> event. The game should report this event every time a paywall is shown (EXCLUDING when the "Unlock Now!" button is tapped from the Main Menu as this has its own unique event). This event will reflect the last time this call was made from the game.</p>
<p>For more help with this event, see <a class="el" href="_f_a_q.html#faq_paywallShownCount">The "paywallsShownCount" log event is not tracking</a>.</p>
<h2><a class="anchor" id="faq_purchasedMainShownCount"></a>
The "purchasedMainShownCount" log event is not tracking</h2>
<p>If this event is not reporting, then there is a problem with the [<a href="interfacebfg_game_reporting.html#ab5e683d7f4a61b21b465084cb1b82392" class="el">bfgGameReporting logPurchaseMainMenuShown</a>]; event. The game should call this event every time the "Unlock Now!" button is tapped from the Main Menu. A count will be shown on Big Fish's internal server and confirmed by QA.</p>
<h2><a class="anchor" id="faq_purchasedType"></a>
The "purchasedType" log event is not tracking</h2>
<p>If this is not reporting, then there is a problem with one of two events.</p>
<ul>
<li>If the "mainmenu" purchasedType is not reporting, then [<a href="interfacebfg_game_reporting.html#ab5e683d7f4a61b21b465084cb1b82392" class="el">bfgGameReporting logPurchaseMainMenuShown</a>]; was not called.</li>
<li>If the "paywall" purchasedType is not reporting, then [<a class="el" href="interfacebfg_game_reporting.html" title="Required game logging APIs. ">bfgGameReporting</a> <b>logPurchasePayWallShown:@paywall];</b> was not called. <br/>
 <br/>
</li>
</ul>
<h1><a class="anchor" id="faq_submissionsReview"></a>
Submission and Apple Review</h1>
<h2><a class="anchor" id="app_rejection"></a>
Why was my app rejected by Apple?</h2>
<p>A rejected app can be a result of several issues.</p>
<ul>
<li>If you are using an older version of the SDK, it may not include hotfixes to resolve known rejection issues.<ul>
<li>Contact your Big Fish Producer to find out the current approved SDK versions.</li>
<li><em>Never reference a local copy of the SDK!</em> If you are correctly referencing an external copy of the SDK, then your game will automatically be updated with any hotfixes.</li>
</ul>
</li>
<li>Your iPhone SKU does not support iPhone 5 widescreen resolution.<ul>
<li>As of May 1st, 2013, Apple requires that all apps <em>must support the 4-inch display on iPhone 5</em>. For more information, see <a href="https://developer.apple.com/news/index.php?id=3212013a" class="el" target="_blank">Using Identifers in Your Apps</a>.</li>
</ul>
</li>
<li>UDID capture is utilized by an API or SDK used during development.<ul>
<li>As of May 1st, 2013, Apple will not approve <em>any new apps or app updates that access UDIDs</em>. For more information, see <a href="https://developer.apple.com/news/index.php?id=3212013b" class="el" target="_blank">Make Your Apps Look Great on the Retina Display and iPhone 5</a>.</li>
<li>The Big Fish iOS SDK and all SDKs Big Fish supports no longer track UDIDs.</li>
<li>Make sure that any additional APIs, SDKs, or libraries do not track UDIDs.</li>
<li>Some deprecated HasOffers calls will attempt to access UDIDs. For help removing this code, see HasOffers' <a href="http://support.mobileapptracking.com/entries/23632966-UDID-Deprecation-Plan" class="el" target="_blank">UDID Deprecation Plan</a>.</li>
</ul>
</li>
<li>A non-public API was used. <br/>
 <br/>
</li>
</ul>
<h1><a class="anchor" id="faq_unityIssues"></a>
Using the iOS SDK with Unity</h1>
<p>Big Fish iOS SDK functionality can be accessed in Unity scripts by writing plugins. Big Fish can provide a C# script that exposes most of the methods found in <a class="el" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a>, along with the accompanying Objective-C++ wrapper.</p>
<p>The following resources are available for developers of Unity applications: <a href="https://extsvn.bigfishgames.com/svn/bfglib/3rd%20Party%20Library%20Support/unity/" class="el" target="_blank">https://extsvn.bigfishgames.com/svn/bfglib/3rd%20Party%20Library%20Support/unity/</a>. They are contained in separate directories. To access them, contact your Big Fish Producer.</p>
<ul>
<li>BfgManager.cs: Include this file with your Unity assets.</li>
<li>BfgManagerWrapper.mm: Include this source file in your Xcode project.</li>
</ul>
<h2><a class="anchor" id="faq_unitySettings"></a>
Unity settings</h2>
<ol type="1">
<li>In Unity, open <b>Play Settings</b> and select the <b>iOS</b> tab.</li>
<li>Under <b>Resolution and Presentation</b>, select the following options:<ul>
<li>For <b>Default Orientation</b>, select <b>Auto Rotation</b>.</li>
<li>Select the <b>Status Bar Hidden</b> checkbox.</li>
</ul>
</li>
<li>Under <b>Other Settings</b>, for <b>Target iOS Version</b> select <b>5.0</b> to target iOS 5.0.</li>
</ol>
<h2><a class="anchor" id="faq_unityIntegration"></a>
SDK integration with Unity</h2>
<h3><a class="anchor" id="faq_unityIntialSteps"></a>
Initial Xcode integration steps</h3>
<ol type="1">
<li>Drag and drop the bfg_iOS_sdk.framework folder into the Frameworks directory of your Xcode project.</li>
<li>Drag and drop the correct resource bundle into your game resource directory in Xcode.<ul>
<li>For iPhone only games, use the <b>bfgResourcesiPhone.bundle</b>.</li>
<li>For iPad only games, use the <b>bfgResourcesiPad.bundle</b>.</li>
<li>For universal games, use the <b>bfgResourcesUniversal.bundle</b>.</li>
<li>If you have both an iPhone and an iPad target in your project, add both the iPhone bundle and the iPad bundle to the correct target.</li>
</ul>
</li>
<li>Copy the needed <b>bfg_gamespecific_resources</b> directory to your project's resource location and add it to your Xcode project. If you have both an iPhone and an iPad target in your project, add two directories, one in each resource location.</li>
</ol>
<h3><a class="anchor" id="faq_modificationsUnity"></a>
Code modifications for SDK initialization with Unity</h3>
<ol type="1">
<li>Open up <b>AppController.mm</b>, located in the Classes directory.</li>
<li>At the top of the code, add the following include: <div class="fragment"><div class="line"><span class="preprocessor">#import &lt;bfg_iOS_sdk/bfgManager.h&gt;</span> </div>
</div><!-- fragment --></li>
<li>Under the function <b>prepareRunLoop</b>, just under the function call <b>OnUnityReady()</b>, add the following code: <div class="fragment"><div class="line">[[<a class="code" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a> sharedInstance] initializeWithViewController:_mainDisplay-&gt;window.rootViewController]; </div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="faq_callAddBfgFunctions"></a>
Calling additional BFG functions</h3>
<ol type="1">
<li>Enter the following code at the bottom of <b>AppController.mm</b>. <div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span></div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Within the brackets, you can call Big Fish SDK methods within functions that Unity will call externally. For example: <div class="fragment"><div class="line"><span class="keywordtype">void</span> _showMoreGames()</div>
<div class="line">{</div>
<div class="line"><span class="keywordflow">if</span> ([<a class="code" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a> isInitialized]) { [<a class="code" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a> showMoreGames]; }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Within Unity, you can call these functions externally using C#.<ul>
<li>Add <b>using System.Runtime.InteropServices;</b> to the top of your class file.</li>
<li>Define the external function using the following structure: <div class="fragment"><div class="line">[DllImport(<span class="stringliteral">&quot;__Internal&quot;</span>)]</div>
<div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keywordtype">void</span> _showMoreGames();</div>
</div><!-- fragment --></li>
<li>Now you can call <b>_showMoreGames()</b> to call the BFG method.</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="faq_languagesUnreported"></a>
Languages are not reported through Xcode</h2>
<p>If you are using the Unity engine, languages are listed through the engine and not through Xcode.</p>
<p><b>To resolve this issue:</b></p>
<ol type="1">
<li>Select the <b>Unity-iPhone.xcodeproj</b> file in Finder (requires using a Mac).</li>
<li>Right-click and select <b>Show Contents</b>.</li>
<li>Right-click on <b>project.pbxproj</b> and select <b>Open with</b> and choose a text editor.</li>
<li>Find <b>knownRegions</b> (search for the <em>EXACT</em> string).</li>
<li>Inside the <b>( )</b>  there will be a list of languages. Delete or add languages as needed.</li>
<li>Commit the changes to SVN.</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>If languages are modified, removed, or added, you will need to repeat these steps. <br/>
 <br/>
</dd></dl>
<h1><a class="anchor" id="faq_playhaven"></a>
PlayHaven Issues</h1>
<h2><a class="anchor" id="faq_placementsDontAppear"></a>
One or more of the default placements failed to appear</h2>
<p>Each default placement is associated with an SDK method. See the table at <a class="el" href="reference_class.html#placementDefaultPlacements">Default placements</a>.</p>
<h2><a class="anchor" id="faq_placementEndPaywallOpenedNotAppear"></a>
The "end_paywall_opened" placement failed to appear or appeared at the wrong time</h2>
<p>This placement is tied to the [<a href="interfacebfg_game_reporting.html#a230c774ad064f88ab211039759a27159" class="el">bfgGameReporting logPurchasePayWallShown: (NSString *) paywallID</a>} method call.</p>
<h2><a class="anchor" id="faq_placementPromoVGtestFail"></a>
The virtual goods promotion test failed during Mobile QA</h2>
<p><b>Solution for SDK 4.7:</b></p>
<p>In addition to ensuring that the "end_paywall_opened" placement is appearing at the correct time, additional steps described in <a class="el" href="reference_class.html#placementIAPvirtualGoods">In-App Purchasing via Virtual Goods</a> are required.</p>
<p><b>Solution for SDK 4.6:</b></p>
<p>In addition to ensuring that the "end_paywall_opened" placement is appearing at the correct time, additional steps described in <a class="el" href="reference_class.html#placementIAPvirtualGoods">In-App Purchasing via Virtual Goods</a> are required.</p>
<p>Webviews can be configured to initiate In-App Purchases in your games. You will receive the BFG_NOTIFICATION_PLACEMENT_CONTENT_START_PURCHASE notification when a purchase has been requested and your game should start the purchase.</p>
<p>The BFG_NOTIFICATION_PLACEMENT_CONTENT_START_PURCHASE notification contains the following keys in the userInfo dictionary:</p>
<ul>
<li>BFG_PLACEMENT_PURCHASE_PRODUCTID_KEY = "purchaseProductID"</li>
<li>BFG_PLACEMENT_PURCHASE_ITEM_KEY = "purchaseItem"</li>
<li>BFG_PLACEMENT_PURCHASE_QUANTITY_KEY = "purchaseQuantity"</li>
<li>BFG_PLACEMENT_PURCHASE_RECEIPT_KEY = "purchaseReceipt"</li>
</ul>
<p>For more information, also see <a class="el" href="reference_class.html#iapSupport">In-App Purchase Support - bfgPurchase</a>.</p>
<h2><a class="anchor" id="faq_placementFailsGoogle"></a>
Mobile QA bugged that tapping on the "mainmenu_paywall_opened" placement fails to direct the player to google.com</h2>
<p>A custom URL scheme must be defined.</p>
<p>Add the following key to info.plist files for <em>ALL</em> targets (replace Bundle_ID with the bundle identifier for your game, for example com.bigfishgames.testapp):</p>
<div class="fragment"><div class="line">&lt;key&gt;CFBundleURLTypes&lt;/key&gt;</div>
<div class="line">&lt;array&gt;</div>
<div class="line">&lt;dict&gt;</div>
<div class="line">&lt;key&gt;CFBundleURLName&lt;/key&gt;</div>
<div class="line">&lt;<span class="keywordtype">string</span>&gt;Bundle_ID&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">&lt;key&gt;CFBundleURLSchemes&lt;/key&gt;</div>
<div class="line">&lt;array&gt;</div>
<div class="line">&lt;<span class="keywordtype">string</span>&gt;Bundle_ID&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">&lt;/array&gt;</div>
<div class="line">&lt;/dict&gt;</div>
<div class="line">&lt;/array&gt;</div>
</div><!-- fragment --><p>To forward the custom URL to the Big Fish application, follow the instructions in <a class="el" href="reference_class.html#placementContent">Supporting Placements</a>. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_ANEissues"></a>
Adobe Air/Adobe Native Extension Issues</h1>
<p>Using the Adobe Native Extension (ANE) with the Big Fish iOS SDK, you can call all the required Big Fish APIs from your Adobe Air application.</p>
<p>The following resources are available for developers of Adobe Air applications <a href="https://extsvn.bigfishgames.com/svn/bfglib/3rd%20Party%20Library%20Support/adobeAir/branches" class="el" target="_blank">https://extsvn.bigfishgames.com/svn/bfglib/3rd%20Party%20Library%20Support/adobeAir/branches</a>. They are contained in separate directories. To access them, contact your Big Fish Producer.</p>
<ul>
<li>airExample: The Adobe Flash Project and Actionscript files required to build the Example Application, including all the required components.</li>
<li>bfgActionScriptLibrary: Consumable Actionscript API for the ANE.</li>
<li>bfgiOSAirLibrary: Native iOS static library for the ANE.</li>
<li>certsAndProfiles: Install your development certificate and your provisioning profile in this directory.</li>
<li>readyToUseExtension: A ready-to-use, prebuilt ANE.</li>
<li>sdks/air: Install the Adobe Air SDK in this directory.</li>
<li>skds/flex: Install the Adobe Flex SDK in this directory.</li>
</ul>
<h2><a class="anchor" id="faq_ANEbuildingAirApp"></a>
Building an Adobe Air Application with the Big Fish Adobe Native Exentsion</h2>
<ol type="1">
<li>Install the required frameworks in the associated /sdks/ directories.<ul>
<li>Adobe Air in /air/</li>
<li>Adobe Flex in /flex/</li>
</ul>
</li>
<li>Place your .p12 development certificate and provisioning profile into ./certsAndProfiles/</li>
<li>Optional: Build the Adobe Native Extension (ANE) ./build_ane.sh</li>
<li>Build the test app using the ANE.<ul>
<li>Open ./AirExample/AirExample.fla and publish the application. Ignore warning/errors.</li>
<li>Place your .p12 certificate password in the ./airExample/build_app_debug.sh script.</li>
<li>Build the Air App with the ANE ./AirExample/build.app_debug.sh.</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="faq_ANEbundleIDs"></a>
Bundle IDs</h2>
<p>Confirm you have set the bundle ID for you application correctly in the key of your config.xml file.</p>
<ul>
<li>com.bigfishgames.my games bundle id here</li>
</ul>
<h2><a class="anchor" id="faq_ANEcustomURL"></a>
Custom URL Scheme Support</h2>
<p>You will need to add your application's URL Scheme to the "InfoAdditions" section of your config.xml file.</p>
<div class="fragment"><div class="line">&lt;iPhone&gt;</div>
<div class="line">      &lt;InfoAdditions&gt;&lt;![CDATA[</div>
<div class="line">          &lt;key&gt;CFBundleURLTypes&lt;/key&gt;</div>
<div class="line">          &lt;array&gt;</div>
<div class="line">              &lt;dict&gt;</div>
<div class="line">                  &lt;key&gt;CFBundleTypeRole&lt;/key&gt;</div>
<div class="line">                  &lt;<span class="keywordtype">string</span>&gt;Editor&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">                  &lt;key&gt;CFBundleURLIconFile&lt;/key&gt;</div>
<div class="line">                  &lt;<span class="keywordtype">string</span>&gt;Icon&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">                  &lt;key&gt;CFBundleURLName&lt;/key&gt;</div>
<div class="line">                  &lt;<span class="keywordtype">string</span>&gt;com.bigfishgames.my games bundle <span class="keywordtype">id</span> here&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">                  &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;</div>
<div class="line">                  &lt;array&gt;</div>
<div class="line">                      &lt;<span class="keywordtype">string</span>&gt;com.bigfishgames.my games bundle <span class="keywordtype">id</span> here&lt;/<span class="keywordtype">string</span>&gt;</div>
<div class="line">                  &lt;/array&gt;</div>
<div class="line">              &lt;/dict&gt;</div>
<div class="line">          &lt;/array&gt;</div>
<div class="line">        ]]&gt;&lt;/InfoAdditions&gt;</div>
<div class="line">   &lt;/iPhone&gt;</div>
</div><!-- fragment --><p>You can find out more about Adobe Native Extensions at <a href="http://www.adobe.com/devnet/air/native-extensions-for-air.html" class="el">http://www.adobe.com/devnet/air/native-extensions-for-air.html</a>. <br/>
 <br/>
</p>
<h1><a class="anchor" id="faq_misc"></a>
Miscellaneous Issues</h1>
<h2><a class="anchor" id="faq_wifiError"></a>
How do I troubleshoot a Wifi error?</h2>
<p>If [<a href="interfacebfg_login_controller.html#aaae4502e24a68c83911063bfca11cc2f" class="el">bfgLoginController startService</a>] is called before calling [<a href="interfacebfg_manager.html#ad0c036fb303d651aa995f4c3ef3266f4" class="el">bfgManager initializeWithViewController</a>], an error will be generated. This results from the game checking for Wifi before the game has initialized <a class="el" href="interfacebfg_manager.html" title="Initialize the Big Fish Game Components. ">bfgManager</a>.</p>
<div class="image">
<img src="wifierror.jpg" alt="wifierror.jpg"/>
</div>
<p><b>To check for this issue:</b></p>
<ol type="1">
<li>Install the app you are troubleshooting.</li>
<li>Launch the app when not on Wifi.</li>
</ol>
<h2><a class="anchor" id="faq_mobileAppTrackerHasOffersIntegration"></a>
Mobile App Tracker/HasOffers wrapped in SDK</h2>
<p>Previously, the Mobile App Tracker SDK and HasOffers IDs would be sent to developers to complete this integration work manually.</p>
<p>This functionality is now completely wrapped in the Big Fish iOS SDK. Ensure that no manual integration has been completed, as this could break the new format or result in Apple rejection. Contact your Big Fish Producer with any questions.</p>
<p>With SDK 4.7, the HasOffers implementation has moved to the client. This means that the client SDK will handle all install and purchase API calls to HasOffers.</p>
<p>For the Big Fish iOS SDK versions 4.2 - 4.6, the implementation of HasOffers is unchanged.</p>
<h2><a class="anchor" id="faq_miscMemoryIssues"></a>
How do I manage memory and prevent memory leaks</h2>
<p>Apple has its own memory management best practices and recommended strategies to reduce the memory footprint and prevent memory leaks. These practices and strategies for iOS often differ greatly from those for PC and Mac development.</p>
<p>First, review Apple's developer documentation at:</p>
<ul>
<li><a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html" class="el" target="_blank">http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html</a></li>
</ul>
<p>As described in Apple's programming guide article, a Clang Static Analyzer is built into Xcode to test your code.</p>
<h2><a class="anchor" id="faq_wallpapers"></a>
Wallpapers need to be saved to Photos</h2>
<p>If your game includes wallpapers among the Collector's Edition bonus content, then this functionality will need to be adapted for mobile devices.</p>
<p>On PCs, wallpapers are included in a variety of resolutions so the player can change their desktop background. On iOS devices, the player should be able to save "wallpapers" to their Camera Roll.</p>
<p>Once this action has been completed, a confirmation message should appear. "Image was successfully saved in Photos."</p>
<p>Contact your Big Fish iOS Producer for access to the Generic Locs document including this translation. </p>
</div></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
</body>
</html>
